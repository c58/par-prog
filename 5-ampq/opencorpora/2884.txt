Пре-альфа sbcl с нитями
Выложил первую версию SBCL с нитями на http://sites.google.com/site/dmitryvksite/sbcl-distr/sbcl-1.0.36.16-threads.msi. В связи с этим прошу читающих меня лисперов, пользующихся виндой, всячески протестировать и описать обнаруженные баги. В частности, интересует работоспособность под различными версиями винды (xp/vista/7/2k3/2k8; x86/x64). В выложенной версии нити должны в целом работать, за исключением функций sb-thread:interrupt-thread и sb-thread:terminate-thread (если я ничего не забыл и нигде не накосячил), но производительность в этой версии может сильно отличаться от безнитевой версии, т.к. ряд вещей сделан топорно и без заботы о быстродействии. В частности, холостой цикл вида (loop repeat (expt 10 8)) исполняется в ~10 раз дольше (т.к. он по сути становится не холостым). SLIME работает, но ведет себя несколько странно. Попытался запустить для тестов hunchentoot под виндовым SBCL — а он не запускается, потому что в usocket не реализовано неблокирующее чтение, потому что в sbcl-win32 не реализовано неблокирующее чтение из сокета (а также проверка наличия данных в сокете). Всем откликнувшимся, протестировавшим и отписавшимся - заранее спасибо! PS. По поводу того, как более информативно сообщать о проблемах. Есть утилита DebugView - она показывает отладочный вывод (совершаемый функцией OutputDebugString) программ, в том числе и вывод данной версии SBCL'а. Если к описанию проблемы будет приложен текстовый файлик с отладочным выводом, то это здорово облегчит поиск и устранение проблем.
