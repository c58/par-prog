Глава 1
Про LATEX, эту и другие книги
Если кто-то другой набирает ваше произведение, то у Вас нет возможности контролировать появление ошибок; если же Вы выполняете эту работу самостоятельно, то можете винить только себя.
Дональд Э.Кнут
Человеческая цивилизация зависит от книг. Передача знаний от поколения к поколению — это то, что делает человека разумным. Написание книги всегда было/есть/будет одним из самых сложных видов деятельности. LATEX берёт на себя техническую часть по подготовке рукописи, оставляя человеку больше времени на творчество и, в то же время, позволяя ему контролировать весь процесс создания от начала и до конца.
1.1. Немного истории
Есть популярная идея, что «история учит лишь тому, что ничему не учит». Возможно, это так. Но чтобы понять логику текущих событий и явлений, всё-таки необходимо знать, как «оно» когда-то зарождалось и почему «оно» до сих пор существует.
1.1.1. Доисторический период
Сначала вообще не было компьютеров, и люди всё писали вручную. Но прогресс неумолим, и вслед за возникновением печатной машины появилась значительная коммерческая выгода от создания книг. Время шло, процесс печати удешевлялся, число книг возрастало — все были довольны, пока не случилось...
1.1.2. Роль Человека в истории
Говорят, живёт на свете Дональд Кнут.
Доктор Кнут, поверьте, дети, страшно крут.
И неважно, что он пишет не о том,
Главное, чтоб всё же вышел пятый том.
Виктор «Витус» Вагнер
Дональд Эрвин Кнут (Donald Ervin Knuth) является одним из немногих людей, благодаря которым информатика заслуженно носит звание научной дисциплины. Произведение, которое принесло ему широкую известность, знают как «пятитомник» «Искусство программирования». После того как в 1975 году был издан третий том «пятитомника», издатель окончательно избавился от печатной машины с металлическим набором типа «монотип» и заменил его на фотонаборное устройство. Результат превзошёл все ожидания: получив оттиски, сделанные по новой технологи, Д.Э. Кнут, который как раз подготовил второе издание второго тома, сильно загрустил. Сама мысль, что книги, на написание которых он потратил свыше пятнадцати лет, будут так плохо выглядеть, не давала Кнуту покоя.
Новые машины были не аналоговыми, а дискретными. Буквы составлялись из точек. «Это объект для компьютерной науки», — подумал Д.Э. Кнут и решил научить компьютер делать буквы из точек такими, как надо, то есть красивыми. Поначалу задача казалась несложной, и в планах было решить проблему полностью в течение летних месяцев 1977 года. Д.Э. Кнут потом признавал, что это был его личный рекорд по недооценке сложности проекта.
Примерно через десять лет после начала работы над проектом, системы META-FONT(создание шрифтов) и TEX (лучшая программа для разбиения абзацев на строки) были стабилизированы (версия 2.7 для METAFONT и 3.1 для TEX). Кнут отошёл от активной разработки. В дальнейшем METAFONT и TEX модифицировались только для целей исправления ошибок. На текущий момент рабочая версия METAFONT— 2.71828, а TEX — 3.141592. Кнут завещал, что после его смерти версии будут заморожены и равны числу e и числу π, соответственно, а все оставшиеся неисправленные ошибки будут считаться особенностями реализации.
Сегодня TEX — это самый «безошибочный» программный пакет. За обнаружение ошибки в своей программе Кнут выплачивает вознаграждение, не очень большое, но невероятно ценное. Код программы TEX выпускался отдельной книгой «TeX: The Program» (ISBN: 0201134373). TEX является примером свободной программы, которая возникла в академической среде задолго до наступления эпохи GPL.
Сегодня мастер на пенсии и всё своё время посвящает написанию «пятитомника». На его домашней страничке можно заметить, что дело явно движется. Ждём результатов с нетерпением.
1.1.3. TEXническое отступление
В основу TEX была заложена относительно простая идея. TEX работает только с боксами (box) и клеем (glue). Элементарные боксы — это буквы, которые объединяются в боксы-слова, которые в свою очередь сливаются в боксы-строчки, боксы-абзацы и так далее. Между боксами «разлит» клей, который имеет некоторую ширину по умолчанию и степени увеличения/уменьшения этой ширины. Объединяясь в бокс более высокого порядка, элементарные боксы могут шевелиться, но после того как найдено оптимальное решение, это состояние замораживается, и полученный бокс выступает как единое целое. Оптимальное решение находится с помощью системы штрафов за то, что клея больше или меньше чем некое оптимальное значение, определённое Кнутом эмпирически, а также за разрывы абзаца в неподходящем месте. Чем меньше штрафа было получено, тем размещение «красивее». В зависимости от выбранной системы штрафов меняется и форматирование.
Когда Д.Э. Кнут создавал TEX, он много думал. Причём думал не только об алгоритмах и их программной реализации. В частности, он нашёл время подумать о том, как назвать своё произведение. TEX читается как «тех». Последняя буква — вовсе не английская буква «икс» (x), а греческая «хи» (χ). Также он продумал и правила изображения этого названия. С тех пор в TEX-сообществе возникла мода на создание TEX-лого.
1.1.4. Появление LATEX
Первоначально Кнут думал, что у TEX будет множество модификаций. Предполагалось, что каждая уважающая себя типография будет держать мастера «TEXника» для создания своей уникальной версии TEX под свои не менее уникальные нужды. Позже, когда стало очевидно, что развитие «TEXнологий» пошло совсем по другому пути, в него были добавлены управляющие конструкции, чтобы TEX стал в полном смысле языком программирования.
А началось всё с Лесли Лэмпорта, который в начале 80-х годов XX века начал разработку издательской системы LATEX на основе TEX. LATEX представляет из себя набор макросов на языке TEX, позволяющих решить ту или иную задачу. Иными словами, это сборник рецептов. Чтобы выбрать сценарий стирки на автоматической стиральной машине, нет необходимости думать в терминах скорости оборотов, уровня воды и количества порошка — достаточно просто выбрать готовое решение. Чтобы пользоваться системой LATEX, не надо быть TEXником — достаточно выбрать готовый стиль и использовать несколько простых команд в зависимости от того, что нужно сделать.
