Глава 8
Путеводитель по классам LATEX
Однако для многих людей LATEX является более простой системой, в нём автоматизированы те вещи, которые люди всегда хотят автоматизировать.
Дональд Э.Кнут
Класс документа — это первое, что требуется указать при наборе. В то же время первое вовсе не значит важное. Заключительный выбор класса почти всегда можно отложить до окончания основного набора. С другой стороны, выбирать всё равно придётся.
8.1. Зачем нужны эти классы?
Класс документа выбирается с помощью команды \documentclass. Её нужно и можно выполнить ровно один раз в самом начале документа:
\documentclass [ a4paper ,12 pt ]{ scrartcl }
В качестве обязательного аргумента указывается имя класса, которому через запятую передаются необязательные параметры. Класс определяется в файле с расширением cls. В дистрибутиве TEXLive 2007 присутствуют 208 уникальных файлов с подобным расширением. Естественно, это далеко не все существующие на белом свете классы. Тем более что никто не мешает создать свой личный класс. Но для начала лучше воспользоваться одним из уже имеющихся.
Класс определяет вид и структуру документа. Класс — это база, которую можно править с помощью подключаемых стилевых файлов. В классе задаётся геометрия страницы и определяются команды секционирования. Класс может быть просто небольшой модификацией уже имеющегося класса, а может статься принципиально новой реализацией представления печатного или электронного TEXнического слова.
В качестве примера последнего можно привести молодой (2007 год) пока пакет papertex (рис. 8.1 — пример от автора класса Ignacio Llopis), который позволяет применять LATEX в деле вёрстки газет, то есть для того, для чего LATEX в проекте вовсе не предназначался.
8.2. Классовая база
Исторически так сложилось, что LATEX начался с шести (6) классов: article (статья), book (книга), report (отчёт), proc (доклад), letter (письмо) и slides (слайды).
По идее статьи следовало набирать c использованием класса article. В этом классе определены команды секционирования вплоть до \section (раздел) включительно. Одним из желательных элементов оформления является аннотация (окружение abstract). В классе book присутствует расширенный набор команд секционирования, в который добавлена команда \chapter (глава). Также в book присутствует базовый набор команд для оформления титульного листа, предисловия и оглавления. Класс для отчётов report является упрощённой версией класса book. Отчёты — это те же книги, только читают их по необходимости, а не по желанию. Предназначенный для создания тезисов докладов proc в свою очередь является небольшой модификацией класса article, причём основное отличие состоит в обязательном использовании двухколоночной вёрстки. Для написания писем был создан класс letter. Набор команд в этом классе существенно отличается от команд базовых инструкций у уже перечисленных классов. В частности для писем нет нужды в командах секционирования. Класс slides — это простой и быстрый способ сделать презентацию. С помощью этого класса не удастся создать пёстрого фона и головокружительных эффектов смены слайдов, зато это позволяет сосредоточиться на главном, а именно непосредственно на тексте.
Особняком от этих классов стоит класс minimal, который является болванкой для создания и тестирования новых классов и идей. В классе minimal не определено никаких специальных команд — там всё по минимуму. В качестве побочного эффекта документ, в котором в качестве базового выбран этот класс, транслируется LATEX значительно быстрее, чем в случае других более специализированных классов.
С этих классов всё начиналось, но не закончилось. Следует понимать, что базовые классы далеко не так хороши, как хотелось бы. После трансляции текста сразу возникает желание взять в руки «электронный надфиль» и пройтись по настройкам класса. Это цена за то, что эти классы являются базой. На них ссылаются и их модифицируют множество других классов и пакетов, поэтому их развитие было заморожено. Для начального набора сгодится и это, но для конечной вёрстки лучше подобрать что-то более подходящее или придётся серьёзно модифицировать значения по умолчанию.
Часто набор необязательных параметров для стандартных классов используется и в других классах, например, в целях совместимости. Некоторые из полезных опций перечислены далее:
10pt, 11pt, 12pt — установка базового размера шрифта. Как правило, этих трёх значений хватает.
a4paper — установка размера листа бумаги. Эту опцию следует использовать всегда, так как по умолчанию стандартные классы LATEX используют размер листа letter.
draft — режим черновой печати для «отлавливания» проблем вёрстки. В этом режиме не внедряются картинки и отмечаются строчки, где алгоритм разбиения абзаца на строки даёт осечку.
oneside / twoside — форматирование документа для односторонней и двухсторонней печати соответственно.
twocolumn — печать в две колонки.
8.3. Классификация
Число классов постоянно растёт, поэтому не следует думать, что всё исчерпывается классами, перечисленными в этой главе.
8.3.1. Модификации и улучшения базы
Всем не нравятся стандартные классы и всякий старается их улучшить. Кто-то убирает какой-то конкретный недостаток, как это сделано в наборе классов extsizes (extarticle, extbook, extletter, extproc, extreport), которые отличаются от стандартных только возможностью указать базовый размер шрифта отличный от обычного 10-12pt. Есть наборы классов, которые делались с какой-то определённой целью. Примером такого подхода являются классы из коллекции AMS (amsart, amsbook, amsproc), которые были предназначены для публикации в журналах Американского математического сообщества. Классы из набора ntgclass представляют собой «героическую» попытку немецкоговорящих голландцев сделать то же, что и в стандарте, но существенно другим способом.
KOMA-Script
В последнее время всё больше внимания обращает на себя полный набор классов KOMA-Script. В этот раз хорошо постарались немцы. Следует учитывать, что европейские традиции полиграфии (в основном французские), всё-таки к нам ближе, чем американские, на которые традиционно ориентировалось LATEX-сообщество. Для статей предполагается использовать scrartcl, для книг — scrbook, для писем — scrlttr2, а для отчётов — scrreprt. В отличие от стандарта классы из KOMA-Script позволяют использовать базовые размеры шрифта в 9pt, 14pt и 17pt. Огромные поля, имеющие место в стандартных классах, в классах KOMA-Script значительно уменьшены. Претерпели изменения и другие элементы. Если оформление по умолчанию не кажется адекватным, то KOMA-Script предоставляет обширный набор высокоуровневых настроек. Подробная документация на более чем двухстах страницах «The KOMA-Script bundle» (scrguien.pdf) позволяет подстроить все необходимые параметры.
NCC
Ещё один вариант в качестве замены стандартным классам — это использование пакета NCC. Очень подробно об этом пакете написано в замечательной книге от создателя NCC Александра И. Роженко «Искусство верстки в LATEX’е» [10]. Для использования следует загрузить класс ncc и передать ему желаемый стиль оформления в качестве параметра: article (статья — используется по умолчанию), preprint (препринт), book (монография) или report (отчёт). Дальнейшие подробности об использовании этого класса можно почерпнуть в краткой инструкции к пакету: ncclatex.pdf.
8.3.2. Пишем письма
Класс letter является стандартным для LATEX, и как следствие, никто им не пользуется. Часто стандарт для написания писем создаётся автором самостоятельно. Так, например, любит делать сам Д.Э. Кнут. Это очень неплохо работает в силу того, что структура письма не очень сложна. Как следствие в LATEX имеется огромное число альтернатив для letter
С точки зрения английского FAQ по LATEX (http://www.tex.ac.uk/faq) класс newlfm является наиболее продвинутым. lfm расшифровывается как letter (письмо), fax (факс) и memoranda (служебная записка). Документация представляет собой текстовый README и набор примеров использования.
Хорошо документированный класс akletter также является хорошим шаблоном для старта. Документация lettereng.pdf кроме краткой инструкции включает и формальное описание структуры письма. Пакет KOMA-Script тоже предоставляет прекрасную замену стандартному классу в виде scrlttr2. Набор классов ntgclass включает свой вариант шаблона для писем в виде класса brief.
Кроме более-менее общих решений полно и частных. Например, для внутренней переписки университета города Падуя есть специальный пакет cdpbundl, содержащий целых три класса.
8.3.3. Поддерживаем стандарты
Стандарт подразумевает наличие подробного описания, которое и является его сущностью. То, что написано на бумаге в виде набора не противоречащих друг другу правил, может быть переведено на язык машины. Далее можно забыть про эти правила, так как помнить все нюансы — работа для машины. Константин Кориков создал и активно поддерживает пакет eskdx, который представляет собой набор классов и стилей, предназначенный для создания документации в соответствии с требованиями «Единой системы конструкторской документации». Основу набора составляют три класса: eskdtext — текстовая документация, eskdbtab — чертежи и схемы и eskdgraph — документы, разбитые на графы. Внятная документация на русском языке в виде файла eskdx.pdf приятно дополняет картину.
Адрес домашней странички проекта: http://lostclus.linux.kiev.ua/eskdx/. Также пакет можно взять на любом CTAN-архиве в директории {CTAN} /macros/latex/contrib/eskdx/.
eskdx — это относительно молодой пакет. Ранее аналогичная попытка была предпринята Вячеславом Фёдоровым. В результате на свет появился пакет eskd (без «x»). В отличие от класса Константина Корикова класс eskd.cls требует обязательной установки шрифтов из коллекции pscyr.
Стандарт для написания документов, описывающих стандарты. Что может быть ещё более стандартным? Класс isov2.cls из пакета iso является стандартом для стандартов. Документация к пакету isoman.pdf подробно описывает все технические тонкости в деле подготовки документов по стандартам ISO. Для создания документации ISO 10303 есть свой класс iso10303.
8.3.4. Верстаем книги
Написание книги — это очень долгий процесс, и первоначальную «набивку» текста можно начать даже со стандартным классом book. С другой стороны, структура книги может быть очень сложной, и правильный выбор базового класса позволит несколько облегчить процесс созидания.
В качестве улучшенного стандартного класса book можно использовать класс octavo. Класс scrbook из KOMA-Script также является хорошей альтернативой для book. Структура и основные команды копируют стандартный класс. Значения же параметров по умолчанию более адекватны для Европейской полиграфии.
Описание класса memoir (memman.pdf) представляет собой книгу о создании книги, превышающую по объёму триста страниц. Там есть всё, начиная от формальной структуры печатной книги, советов по оформлению электронных копий, заканчивая собственно описанием класса. Все элементы структуры и управляющие размеры показаны в виде рисунков и схем. Класс не является надстройкой над чем-либо — это произведение искусства, созданное с нуля. Документацию следует пролистать хотя бы просто для ознакомления. Класс развивается до сих пор. Новые возможности описываются в дополнении к основной документации (memmanadd.pdf), и на текущий момент дополнение почти достигло объёма в сто страниц.
Если не требуется написать книгу, а нужно распечатать мегабайтный текст на дешёвеньком принтере в режиме экономии тонера, то для этого дела вполне может подойти класс sffms — простенько и строки через два интервала.
8.3.5. Создаём отчёты
Отчёт — не книга, но и здесь есть свои правила, структура и особенности. Для начала можно воспользоваться scrreprt из KOMA-Script, как заменой стандартному классу report.
Инженер-электронщик Эли Билауэр (Eli Billauer) сделал LATEX-класс для бумаг в HiTech-стиле и назвал его соответственно hitec. Простенько и со вкусом.
Есть, естественно, и частные решения. Хочется заключить контракт с Американским правительством? Стандартная форма 298, обеспечиваемая классом sffms, будет весьма кстати. Класс manual из пакета nassflow даст возможность пообщаться со структурой под названием «Center for the Automation of Weapon and Command Systems, Royal Netherlands Navy».
8.3.6. Делаем презентации
В начале предполагалось, что цель презентации в распространении нужной информации от одного человека ко многим. Поэтому во главу угла ставился текст, а «украшательства» сводились к простой рамке. Стандартные классы seminar и sides вполне годились для этого.
Но время суровых докладчиков прошло и «рюшечки» вышли на первый план. LATEX может предоставить и «рюшечки», но лучше всё-таки помнить о смысле.
Класс prosper (рис. 8.3 ) создан как улучшенный пакет seminar и поддерживает не только оверлеи, гиперссылки и шаблоны оформления, но и «стандартный» набор динамических эффектов, доступных через формат pdf. Класс ppr-prv позволяет создать печатную версию электронных слайдов класса prosper.
В пакет texpower входит класс powersem, который по сути дела просто загружает slides, а всю работу по созданию презентации выполняет стиль texpower. Возможности этого пакета сравнимы с prosper — просто он немного другой.
В последнее время в деле создания презентации всё популярнее и популярнее становится относительно молодой, но довольно мощный класс beamer. Активная поддержка сообщества при создании этого пакета позволила автору beamer Тилу Танталу (Till Tantau) собрать в одном месте немало тем для слайдов. Ключевой особенностью этих тем является разнообразие. Наличие широкого выбора стандартных тем позволяет быстро выбрать обрамление для презентации. Более чем 200 страниц документации ускоряет решение любой возникшей проблемы.
Даже если использовать LyX (http://www.lyx.org) в качестве WYSIWYM редактора, то и его вполне можно настроить для создания презентаций. Для этого следует воспользоваться ещё одним достаточно молодым, но уже вполне функциональным классом powerdot, в комплекте с которым идут настройки для LyX.
Класс talk, в отличие от упомянутых ранее пакетов, позволяет пользователю определить более одного стиля слайдов для презентации. Резкая смена стиля во время доклада — иногда нужно и такое.
Для создания настенного постера в первом приближении можно воспользоваться пакетом a0poster, который позволяет работать с большими форматами бумаги. Канонического класса, который бы решал все проблемы при изготовлении постера, в LATEX на текущий момент нет. Возможно, ближе всего к идеалу подошёл класс sciposter из одноимённого пакета.
8.3.7. Журнальные и конференционные классы
Каждый серьёзный научный журнал и крупная конференция имеет свой LATEX класс. Обычно этот класс лежит где-то на официальном сайте. Например, журналы, издаваемые издательством МАИК «Наука/Интерпериодика», должны следовать правилам, выложенным здесь: http://www.maik.ru/pub/tex/. Но довольно много журнальных классов можно найти и в стандартном дистрибутиве LATEX. Например, класс asaetr используется в American Society for Agricultural Engineers (ASAE). Maple Technical Newsletter можно создавать с помощью класса mtn. Классом jpsj2 отметились японцы. Из русскоязычных журналов замечен только «Сибирский журнал вычислительной математики» — класс sibjnm.
Следует отметить обязательный для подготовки журнальных публикаций в издательстве Elsevier класс elsart. Класс nature позволит подготовить pdf-файл для журнала Nature. Часто при создании публикаций для журналов или конференций используются небольшие модификации класса revtex4.
Для объединения разных документов в один, например, для оформления трудов конференции, может пригодиться класс combine.
8.3.8. Организуем резюме
Написание резюме или curriculum vitae — довольно популярный вид деятельности в современном мире. Для резюме нет общепринятого стандарта, но некоторые указания существуют.
Европейская комиссия рекомендует определённый формат для составления резюме, и этот формат полностью реализуется с помощью специализированного класса europecv.
Класс vita представляет собой конструктор для создания резюме. Документация фактически отсутствует, но разобраться по имеющимся примерам для IT-специалиста и певца не составляет сложности.
Класс curve, напротив, обладает качественной документацией. Механизм рубрик позволяет классу curve поддерживать несколько резюме разной направленности и легко переключаться между ними.
Современный класс morderncv рекомендуется как гибкое и простое средство создания резюме как современного вида, так и классических форм.
Следует отметить, что классы определяют многое, но далеко не всё. Поэтому после выбора класса документа можно и нужно подключить стили, которые могут серьёзно поменять внешний вид. Стиль currvita позволяет создавать резюме в окружении стандартных классов.
8.3.9. Защищаем диссертации
Раньше были курсовые и дипломные работы, а теперь куда ни глянь — везде диссертации. Каждый уважающий себя университет имеет свой уникальный стиль оформления диссертации. Если хочется написать свой класс, то в качестве отправной точки можно выбрать класс ucthesis от Калифорнийского университета (UC Berkeley).
Станислав Кручинин озадачился судьбами русскоговорящих диссертантов и создал класс disser. Пакет отсутствует в составе дистрибутива TEXLive, но его легко можно взять в директории {CTAN} /macros/latex/contrib/disser в любом CTAN-архиве. Следует учесть, что какая-либо пользовательская документация на текущий момент полностью отсутствует. С другой стороны диссертанты по идее люди не глупые и разберутся в имеющихся достаточно подробных примерах.
8.3.10. Всякая всячина
Далеко не все классы подчиняются уже перечисленной классификации. За рамки темы вышли классы для составления календарей, обложек для CD (cd), вопросников (qcm), объявлений о занятиях (assignment), концертных программок (ConcProg), программ курса (courseoutline и coursepaper), рабочего журнала для биологов (labbook), пьес (stage), тибетских карточек (pecha — рис. 8.5), карточек для запоминания иностранных слов (flashcards) и для многого другого. Старые и давно не поддерживаемые классы могут не собраться в новом окружении, но исходники доступны и всегда можно довести их до необходимой кондиции.
